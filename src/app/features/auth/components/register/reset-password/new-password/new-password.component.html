<div class="confirm-new-pw-container">
  <div class="confirm-new-pw-container-header">
    <div class="confirm-new-pw-container-header-logo">
      <img src="./assets/img/logo.png" alt="logo" />
      <h1>DABubble</h1>
    </div>
  </div>
  <div class="confirm-new-pw-box-container">
    <div class="confirm-new-pw-box">
      <div class="confirm-new-pw-box-header">
        <span
          class="material-symbols-outlined back-arrow-btn"
          [routerLink]="['/login']"
          title="Zurück zum Login"
        >
          arrow_back
        </span>
        <h2>Neues Passwort festlegen</h2>
      </div>

      <p class="confirm-new-pw-hint">
        Bitte gib dein neues Passwort ein und bestätige es.
      </p>

      <form (ngSubmit)="confirmNewPassword()">
        <div class="input-group">
          <div class="password-input">
            <input
              type="password"
              placeholder="Neues Passwort"
              [(ngModel)]="newPassword"
              name="newPassword"
              required
              minlength="6"
              [disabled]="isLoading || !!successMessage"
            />
          </div>

          <div class="password-input">
            <input
              type="password"
              placeholder="Neues Passwort bestätigen"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
              [disabled]="isLoading || !!successMessage"
            />
          </div>
        </div>

        <div *ngIf="successMessage" class="success-message">
          {{ successMessage }}
          <a [routerLink]="['/login']">Jetzt anmelden</a>
        </div>

        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>

        <div class="confirm-new-pw-actions">
          <button
            type="submit"
            class="confirm-new-pw-btn"
            [disabled]="
              isLoading || !newPassword || !confirmPassword || !!successMessage
            "
          >
            <span *ngIf="!isLoading">Passwort ändern</span>
            <span *ngIf="isLoading">Wird geändert...</span>
          </button>
        </div>
      </form>
    </div>

    <div class="footer">
      <a [routerLink]="['/impressum']">Impressum</a>
      <a [routerLink]="['/datenschutz']">Datenschutz</a>
    </div>
  </div>
</div>
